<!DOCTYPE html>
<html lang="ca">
<head>
<meta charset="UTF-8">
<title>Comprovador de contrasenyes</title>
<style>
    body {
        background-color: black;
        color: lime;
        font-family: 'Courier New', monospace;
        text-align: center;
        padding-top: 20px;
    }
    input, button {
        font-size: 16px;
        padding: 5px;
        border: none;
        outline: none;
    }
    button {
        background-color: black;
        color: lime;
        border: 1px solid lime;
        cursor: pointer;
        margin: 5px;
    }
    button:hover {
        background-color: lime;
        color: black;
    }
    .progress {
        width: 80%;
        height: 20px;
        background-color: #111;
        margin: 15px auto;
        border: 1px solid lime;
    }
    .progress-bar {
        height: 100%;
        width: 0%;
        background-color: lime;
        transition: width 0.3s;
    }
    #resultat {
        margin-top: 10px;
        min-height: 20px;
    }
    #recomanacions {
        margin-top: 10px;
        color: #0f0;
        font-size: 14px;
        text-align: left;
        width: 80%;
        margin-left: auto;
        margin-right: auto;
    }
    footer {
        margin-top: 20px;
        font-size: 12px;
        color: #0f0;
    }
</style>
</head>
<body>
<h1>Comprovador de contrasenyes</h1>
<div>
    <input type="password" id="contrasenya" placeholder="Introdueix la contrasenya">
    <button onclick="toggleMostrar()" id="btnMostrar">üëÅ</button>
</div>
<div>
    <button onclick="iniciarAnalisi()">Comprovar</button>
    <button onclick="netejar()">Netejar</button>
</div>
<div class="progress"><div class="progress-bar" id="barra"></div></div>
<p id="resultat"></p>
<div id="recomanacions"></div>
<footer>¬© 2025 Comprovador de Contrasenyes. Tots els drets reservats.</footer>

<script>
// Funci√≥ per comprovar la contrasenya
function iniciarAnalisi() {
    document.getElementById("resultat").innerText = "[Analitzant contrasenya...]";
    document.getElementById("recomanacions").innerHTML = "";
    setTimeout(analitzar, 500);
}

function analitzar() {
    const pwd = document.getElementById("contrasenya").value;
    let score = 0;
    const recom = [];

    if(/^.{12,15}$/.test(pwd)) score++;
    else recom.push("La contrasenya ha de tenir entre 12 i 15 car√†cters.");

    if(/[A-Z]/.test(pwd)) score++;
    else recom.push("Afegeix lletres maj√∫scules.");

    if(/[a-z]/.test(pwd)) score++;
    else recom.push("Afegeix lletres min√∫scules.");

    if(/\d/.test(pwd)) score++;
    else recom.push("Inclou n√∫meros.");

    if(/[^A-Za-z0-9]/.test(pwd) || /\s/.test(pwd)) score++;
    else recom.push("Inclou car√†cters especials o espais.");

    const comunes = ["password","123456","qwerty","nom","producte","personatge"];
    if(!comunes.includes(pwd.toLowerCase())) score++;
    else recom.push("Evita paraules comunes o f√†cilment endevinables.");

    const percent = (score / 6) * 100;
    document.getElementById("barra").style.width = percent + "%";

    let resultat = "";
    if(score <= 2) resultat = "[Molt feble]";
    else if(score <= 4) resultat = "[Mitjana]";
    else resultat = "[Forta]";

    document.getElementById("resultat").innerText = resultat;
    if(recom.length > 0) {
        document.getElementById("recomanacions").innerHTML = "<b>Consells:</b><br>" + recom.join("<br>");
    }
}

// Funci√≥ per mostrar/amagar contrasenya
function toggleMostrar() {
    const input = document.getElementById("contrasenya");
    const btn = document.getElementById("btnMostrar");
    if(input.type === "password") {
        input.type = "text";
        btn.textContent = "üôà";
    } else {
        input.type = "password";
        btn.textContent = "üëÅ";
    }
}

// Funci√≥ per netejar
function netejar() {
    document.getElementById("contrasenya").value = "";
    document.getElementById("barra").style.width = "0%";
    document.getElementById("resultat").innerText = "";
    document.getElementById("recomanacions").innerHTML = "";
}
</script>
</body>
</html>
